<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html"
      xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" type="text/css" href="./css/main.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/web3@1.3.6/dist/web3.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
</head>
<body >
<div class="top-nav" >
    <div class="name">
        <h1 id="station">Pay Station</h1>
        <text id="commer">Pay your parking bills online...</text>
    </div>

</div></br>

<div class="pay-show">
    <p id ="money-symbol">$</p>
    <p id="money">0</p>
</div>

<div class="left_side">
    <form class="deposit">
        <p id="address">
            <label class="transaction">Your address</label> <br> <br>
            <input id="sender_address" type="text" class="input-box" value=""> <br> <br>
        </p>

        <p id="amount">
            <label class="transaction">Deposit amount(ETH)</label> <br> <br>
            <input id="send_value" type="number" min="0" class="input-box" placeholder="1 eth = 10 coins" value="">
        </p>

        <button type="button" onclick="App.handleDeposit(document.getElementById('send_value').value)" class="btn btn-primary btn-lg" id="deposit_btn">Deposit</button>
    </form>

    <form class="check_balance">
        <button type="button" onclick="App.handleBalance(document.getElementById('sender_address').value)" class="btn btn-primary btn-lg" id="balance_btn">Check Balance</button>
    </form>

    <div id="look_balance">
        Your current balance is:
    </div>
</div>

<div style='width:0%;border-right:4px solid black;height:1000px;margin: auto;'></div>

<form class="info">
    <p>
        <label class="trade">Parking Time(1c/min):</label>
        <input id="parking_time" type="number" min="0" class="input-box" value=""><br>
    </p>
    <p>
        <label class="trade">Plate Number:</label>
        <input id="plate_number" type="text" class="input-box"><br>
    </p>
    <p>
        <label class="trade">Your Ethereum account:</label>
        <input id="ethereum_account" type="text" class="input-box"><br>
    </p>
    <p>
        <label class="trade">To Ethereum account:</label>
        <input id="to_account" type="text" class="input-box">
    </p>
    <p style="position: relative; padding-top: 40px" >
        <button type="button" onclick="App.handleTrade(document.getElementById('to_account').value, document.getElementById('parking_time').value)" class="btn btn-primary btn-lg" id="submit_btn">Submit</button>
    </p>
</form>

<script>
    const parkingTimeInput = document.getElementById("parking_time");
    const moneyElement = document.getElementById("money");

    parkingTimeInput.addEventListener("input", function() {
        const parkingTime = parseFloat(parkingTimeInput.value);
        if(!isNaN(parkingTime)) {
            moneyElement.textContent = parkingTime.toFixed(0);
        } else {
            moneyElement.textContent = "0";
        }
    });
</script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>
<script src="./js/pay.js"></script>

</body>
</html>